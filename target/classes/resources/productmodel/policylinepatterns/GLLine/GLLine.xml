<?xml version="1.0"?>
<PolicyLinePattern
  policyLineSubtype="GeneralLiabilityLine"
  priority="50"
  public-id="GLLine"
  territoryCodeNeeded="true">
  <CoverageCategories>
    <CoverageCategory
      priority="10"
      public-id="GLGroup"/>
    <CoverageCategory
      priority="70"
      public-id="GLPollutionAll"/>
    <CoverageCategory
      priority="60"
      public-id="GLLiquorAll"/>
    <CoverageCategory
      priority="30"
      public-id="GLContractualAll"/>
    <CoverageCategory
      priority="99"
      public-id="GLOther"/>
    <CoverageCategory
      priority="50"
      public-id="GLEmployment"/>
    <CoverageCategory
      priority="80"
      public-id="GLY2K"/>
    <CoverageCategory
      priority="40"
      public-id="GLDesignated"/>
    <CoverageCategory
      priority="20"
      public-id="GLClaimsMade"/>
    <CoverageCategory
      priority="75"
      public-id="GLProfessionalEO"/>
  </CoverageCategories>
  <CoverageSymbolGroupPatterns/>
  <InitializeScript><![CDATA[
// set split limits to no and location limits to no
GeneralLiabilityLine.SplitLimits = false
GeneralLiabilityLine.LocationLimits = false
    
  ]]></InitializeScript>
  <ModifierPatterns>
    <ModifierPattern
      defaultMaximum="0.50"
      defaultMinimum="-0.50"
      displayEligibility="false"
      displayJustification="false"
      displayRange="true"
      displayValueFinal="true"
      lookupTableName="GLModifier"
      modifierDataType="rate"
      modifierSubtype="GLModifier"
      priority="-1"
      public-id="GLExperienceMod"
      referenceDateByType="DefinedObject"
      renderRateAsMultiplier="true"
      scheduleRate="false"
      splitOnAnniversary="false"/>
    <ModifierPattern
      defaultMaximum="0.25"
      defaultMinimum="-.25"
      displayJustification="true"
      displayRange="true"
      displayValueFinal="true"
      lookupTableName="GLModifier"
      modifierDataType="rate"
      modifierSubtype="GLModifier"
      priority="-1"
      public-id="GLScheduleModifier"
      referenceDateByType="DefinedObject"
      scheduleRate="true"
      splitOnAnniversary="false">
      <RateFactorPatterns>
        <RateFactorPattern
          defaultMaximum="0.05"
          defaultMinimum="-0.05"
          lookupTableName="GLRateFactor"
          priority="1"
          public-id="zfeg49qgeb9bd6dp47es9gvngmb"
          rateFactorType="LocationInside"/>
        <RateFactorPattern
          defaultMaximum="0.05"
          defaultMinimum="-0.05"
          lookupTableName="GLRateFactor"
          priority="2"
          public-id="zs0jgqmq57ok6euo78ptrhnlhia"
          rateFactorType="LocationOutside"/>
        <RateFactorPattern
          defaultMaximum="0.1"
          defaultMinimum="-0.1"
          lookupTableName="GLRateFactor"
          priority="3"
          public-id="z1fh0m7ropekiavme4kisf1j7tb"
          rateFactorType="Premises"/>
        <RateFactorPattern
          defaultMaximum="0.1"
          defaultMinimum="-0.1"
          lookupTableName="GLRateFactor"
          priority="4"
          public-id="zcmi88i6kj9erduacjnnt1givb8"
          rateFactorType="Equipment"/>
        <RateFactorPattern
          defaultMaximum="0.1"
          defaultMinimum="-0.1"
          lookupTableName="GLRateFactor"
          priority="5"
          public-id="zqgg6s11iob9q146teadmcp8o69"
          rateFactorType="RiskNotInClassifPlan"/>
        <RateFactorPattern
          defaultMaximum="0.06"
          defaultMinimum="-0.06"
          lookupTableName="GLRateFactor"
          priority="6"
          public-id="zm7gmrfn89nq28f7p80j7fkj918"
          rateFactorType="EmpQual"/>
        <RateFactorPattern
          defaultMaximum="0.02"
          defaultMinimum="-0.02"
          lookupTableName="GLRateFactor"
          priority="7"
          public-id="z1rjsgfbl72nj1tjgf3b1epiu5a"
          rateFactorType="MgmtCooperation"/>
        <RateFactorPattern
          defaultMaximum="0.02"
          defaultMinimum="-0.02"
          lookupTableName="GLRateFactor"
          priority="8"
          public-id="zj2isk4d704hvd8rc4vk35u7r7a"
          rateFactorType="SafetyOrganization"/>
      </RateFactorPatterns>
    </ModifierPattern>
    <ModifierPattern
      lookupTableName="GLModifier"
      modifierDataType="rate"
      modifierSubtype="GLModifier"
      priority="-1"
      public-id="GLConditionalSurcharge"
      referenceDateByType="PolicyTerm"
      scheduleRate="true">
      <AvailabilityScript><![CDATA[return GeneralLiabilityLine.AllCoverages
  .where(\ c -> c.PatternCode == "GLPollutionDesignatedCov"
             or c.PatternCode == "GLGovSubdivisions").Count == 2 // both coverages on line]]></AvailabilityScript>
      <RateFactorPatterns>
        <RateFactorPattern
          defaultMaximum="0.5"
          defaultMinimum="0"
          lookupTableName="GLRateFactor"
          priority="-1"
          public-id="z84i0vdgkq2dla305k3qlb5tjv8"
          rateFactorType="PolicyExpense"/>
      </RateFactorPatterns>
    </ModifierPattern>
    <ModifierPattern
      lookupTableName="GLModifier"
      modifierDataType="boolean"
      modifierSubtype="GLModifier"
      priority="-1"
      public-id="GLLocationDispersionCredit"
      referenceDateByType="PolicyTerm">
      <AvailabilityScript><![CDATA[// multiple locations in different zipcodes implies dispersed location and therefore reduced risk
return GeneralLiabilityLine.Branch.PolicyLocations.map(\ p -> p.PostalCode).toSet().Count > 1]]></AvailabilityScript>
    </ModifierPattern>
  </ModifierPatterns>
  <OfficialIdPatterns/>
  <AvailableCoverageCurrencies>
    <AvailableCoverageCurrency
      currency="usd"
      public-id="GLLineusd"/>
  </AvailableCoverageCurrencies>
</PolicyLinePattern>